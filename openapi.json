{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/ping":{"get":{"summary":"Ping","description":"Test API endpoint.\n\nReturns:\n    The response.","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Ping Ping Get","type":"string"}}}}}}},"/_upload":{"post":{"summary":"Upload File","description":"Upload a file.\n\nArgs:\n    files: The file(s) to upload.\n\nRaises:\n    ValueError: if there are no args with supported annotation.","operationId":"upload_file__upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file__upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects":{"get":{"summary":"Get Projects","description":"API endpoint to get all projects owned by a user.","operationId":"get_projects_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Projects Projects Get","type":"array","items":{"$ref":"#/components/schemas/ProjectPublic"}}}}}},"security":[{"HTTPBearer":[]}]},"post":{"summary":"Create Project","description":"API endpoint to create a project.","operationId":"create_project_projects_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectPostParam"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/internal/hosted-instances":{"get":{"summary":"Get Hosted Instances Restricted","description":"API endpoint to get all hosted instances.","operationId":"get_hosted_instances_restricted_internal_hosted_instances_get","parameters":[{"required":false,"schema":{"title":"Project Name","type":"string"},"name":"project_name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Hosted Instances Restricted Internal Hosted Instances Get","type":"array","items":{"$ref":"#/components/schemas/HostedInstance"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/hosted-instances":{"get":{"summary":"Get Hosted Instances","description":"API endpoint to get all hosted instances owned by a user.","operationId":"get_hosted_instances_hosted_instances_get","parameters":[{"required":false,"schema":{"title":"Project Name","type":"string"},"name":"project_name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Hosted Instances Hosted Instances Get","type":"array","items":{"$ref":"#/components/schemas/HostedInstancePublic"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"summary":"Create Hosted Instance","description":"API endpoint to create a hosted instance.","operationId":"create_hosted_instance_hosted_instances_post","parameters":[{"required":true,"schema":{"title":"Key","pattern":"^[a-zA-Z0-9-]+$","type":"string"},"name":"key","in":"query"},{"required":true,"schema":{"title":"Project Name","type":"string"},"name":"project_name","in":"query"},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/VMType"}],"default":"shared-cpu"},"name":"backend_vm_type","in":"query"},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/CPUCount"}],"default":1},"name":"backend_cpus","in":"query"},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/MemoryMB"}],"default":1024},"name":"backend_memory_mb","in":"query"},{"required":false,"schema":{"title":"Backend Auto Start Machines","type":"boolean","default":true},"name":"backend_auto_start_machines","in":"query"},{"required":false,"schema":{"title":"Backend Auto Stop Machines","type":"boolean","default":false},"name":"backend_auto_stop_machines","in":"query"},{"required":false,"schema":{"title":"Description","type":"string"},"name":"description","in":"query"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_hosted_instance_hosted_instances_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/validate/me":{"post":{"summary":"Validate Current User","description":"API endpoint to validate the access token and verify the user is authorized.","operationId":"validate_current_user_validate_me_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/hosted-instances/{app_name}/status":{"get":{"summary":"Get Hosted Instance Status","description":"API endpoint to get the status of a hosted instance.","operationId":"get_hosted_instance_status_hosted_instances__app_name__status_get","parameters":[{"required":true,"schema":{"title":"App Name","type":"string"},"name":"app_name","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/hosted-instances/{app_name}/logs":{"get":{"summary":"Get Hosted Instance Logs","description":"API endpoint to get the logs of a hosted instance.","operationId":"get_hosted_instance_logs_hosted_instances__app_name__logs_get","parameters":[{"required":true,"schema":{"title":"App Name","type":"string"},"name":"app_name","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"Body_create_hosted_instance_hosted_instances_post":{"title":"Body_create_hosted_instance_hosted_instances_post","required":["files","backend_regions"],"type":"object","properties":{"files":{"title":"Files","type":"array","items":{"type":"string","format":"binary"}},"backend_regions":{"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/Region"}},"backend_secrets":{"title":"Backend Secrets","type":"array","items":{"type":"object"}}}},"Body_upload_file__upload_post":{"title":"Body_upload_file__upload_post","required":["files"],"type":"object","properties":{"files":{"title":"Files","type":"array","items":{"type":"string","format":"binary"}}}},"CPUCount":{"title":"CPUCount","enum":[1,2,4,8,16],"type":"integer","description":"Enum for CPU count that maps to shared-cpu-{count}x."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"HostedInstance":{"title":"HostedInstance","required":["key","backend_regions","owned_by","project_id","backend_archive_url","backend_archive_etag","frontend_archive_url","frontend_archive_etag","backend_vm_type","backend_cpus","backend_memory_mb","backend_auto_start_machines","backend_auto_stop_machines"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"key":{"title":"Key","pattern":"^[a-zA-Z0-9-]+$","type":"string"},"description":{"title":"Description","type":"string"},"backend_regions":{"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/Region"}},"owned_by":{"title":"Owned By","type":"integer"},"project_id":{"title":"Project Id","type":"integer"},"backend_archive_url":{"title":"Backend Archive Url","minLength":1,"type":"string"},"backend_archive_etag":{"title":"Backend Archive Etag","minLength":1,"type":"string"},"frontend_archive_url":{"title":"Frontend Archive Url","minLength":1,"type":"string"},"frontend_archive_etag":{"title":"Frontend Archive Etag","minLength":1,"type":"string"},"backend_vm_type":{"$ref":"#/components/schemas/VMType"},"backend_cpus":{"title":"Backend Cpus","type":"integer"},"backend_memory_mb":{"title":"Backend Memory Mb","type":"integer"},"backend_auto_start_machines":{"title":"Backend Auto Start Machines","type":"boolean"},"backend_auto_stop_machines":{"title":"Backend Auto Stop Machines","type":"boolean"},"backend_reflex_version":{"title":"Backend Reflex Version","type":"string"},"backend_secrets":{"title":"Backend Secrets","type":"array","items":{"type":"object"}}},"description":"DB schema for the hosted instances table."},"HostedInstancePublic":{"title":"HostedInstancePublic","required":["key","backend_regions","backend_vm_type","backend_cpus","backend_memory_mb","backend_auto_start_machines","backend_auto_stop_machines"],"type":"object","properties":{"key":{"title":"Key","type":"string"},"backend_regions":{"type":"array","items":{"$ref":"#/components/schemas/Region"}},"backend_vm_type":{"$ref":"#/components/schemas/VMType"},"backend_cpus":{"$ref":"#/components/schemas/CPUCount"},"backend_memory_mb":{"$ref":"#/components/schemas/MemoryMB"},"backend_auto_start_machines":{"title":"Backend Auto Start Machines","type":"boolean"},"backend_auto_stop_machines":{"title":"Backend Auto Stop Machines","type":"boolean"}},"description":"User facing hosted instance data."},"MemoryMB":{"title":"MemoryMB","enum":[256,512,1024,2048,4096,8192,16384,32768,65536,131072],"type":"integer","description":"Enum for memory size that is in MBs."},"ProjectPostParam":{"title":"ProjectPostParam","required":["name"],"type":"object","properties":{"name":{"title":"Name","minLength":1,"type":"string"},"description":{"title":"Description","type":"string"},"meta_data":{"title":"Meta Data","type":"object"}},"description":"Params for project creation backend API."},"ProjectPublic":{"title":"ProjectPublic","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"}},"description":"User facing project data."},"Region":{"title":"Region","enum":["bos","hkg","cdg","sjc","gru","sea","ewr","nrt"],"type":"string","description":"Enum for the regions. The regions not enabled are offered by fly.io but not included in the hosting service."},"VMType":{"title":"VMType","enum":["shared-cpu","performance"],"type":"string","description":"Enum for the VM types."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}